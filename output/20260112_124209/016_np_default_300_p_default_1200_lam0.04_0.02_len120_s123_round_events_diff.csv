event,start_value,end_value,diff,description
AnalyzePatchRangesMicroseconds,7128,17555,10427,Total time spent analyzing index of patch parts
ArenaAllocBytes,1900544,3801088,1900544,Number of bytes allocated for memory Arena (used for GROUP BY and similar operations)
ArenaAllocChunks,464,928,464,Number of chunks allocated for memory Arena (used for GROUP BY and similar operations)
AsyncLoaderWaitMicroseconds,1332991,1332991,0,Total time a query was waiting for async loader jobs.
AsyncLoggingConsoleTotalMessages,56,56,0,How many messages (accepted or dropped) have been sent to the async queue for the console log
AsyncLoggingErrorFileLogTotalMessages,4,4,0,How many messages (accepted or dropped) have been sent to the async queue for the error file log
AsyncLoggingFileLogTotalMessages,56,56,0,How many messages (accepted or dropped) have been sent to the async queue for the file log
CannotWriteToWriteBufferDiscard,300,464,164,Number of stack traces dropped by query profiler or signal handler because pipe is full or cannot write to pipe.
CommonBackgroundExecutorTaskExecuteStepMicroseconds,1832141,2262103,429962,Time spent in executeStep() for Common executor tasks.
CommonBackgroundExecutorTaskResetMicroseconds,47,69,22,Time spent resetting task for Common executor.
CompileExpressionsBytes,24576,24576,0,Number of bytes used for expressions compilation.
CompileExpressionsMicroseconds,46136,46136,0,Total time spent for compilation of expressions to LLVM code.
CompileFunction,3,3,0,Number of times a compilation of generated LLVM code (to create fused function for complex expressions) was initiated.
CompressedReadBufferBlocks,6634667,13212945,6578278,"Number of compressed blocks (the blocks of data that are compressed independent of each other) read from compressed sources (files, network)."
CompressedReadBufferBytes,429880762151,859688822097,429808059946,"Number of uncompressed bytes (the number of bytes after decompression) read from compressed sources (files, network)."
ConcurrencyControlSlotsAcquired,419,419,0,Total number of CPU slots acquired
ConcurrencyControlSlotsAcquiredNonCompeting,27,44,17,Total number of noncompeting CPU slot acquired
ConcurrencyControlSlotsGranted,27,44,17,Number of CPU slot granted according to guarantee of 1 thread per query and for queries with setting 'use_concurrency_control' = 0
ConcurrencyControlWaitMicroseconds,107992496,107992496,0,Total time a query was waiting on resource requests for CPU slots.
ContextLock,29389,54717,25328,Number of times the lock of Context was acquired or tried to acquire. This is global lock.
ContextLockWaitMicroseconds,291,745,454,Context lock wait time in microseconds
CreatedReadBufferOrdinary,7504,13723,6219,Number of times ordinary read buffer was created for reading data (while choosing among other read methods).
DiskReadElapsedMicroseconds,123943171,283957037,160013866,Total time spent waiting for read syscall. This include reads from page cache.
DiskWriteElapsedMicroseconds,23463,42042,18579,Total time spent waiting for write syscall. This include writes to page cache.
FairPolicyDequeue,464,464,0,Number of dequeues invoked at all FairPolicyNodes
FileOpen,1449,1824,375,Number of files opened.
FilteringMarksWithPrimaryKeyMicroseconds,117,228,111,Time spent filtering parts by PK.
FunctionExecute,2224117,4432844,2208727,"Number of SQL ordinary function calls (SQL functions are called on per-block basis, so this number represents the number of blocks)."
GlobalThreadPoolExpansions,759,864,105,Counts the total number of times new threads have been added to the global thread pool. This metric indicates the frequency of expansions in the global thread pool to accommodate increased processing demands.
GlobalThreadPoolJobWaitTimeMicroseconds,6128789,7719911,1591122,"Measures the elapsed time from when a job is scheduled in the thread pool to when it is picked up for execution by a worker thread. This metric helps identify delays in job processing, indicating the responsiveness of the thread pool to new tasks."
GlobalThreadPoolJobs,1338,1949,611,Counts the number of jobs that have been pushed to the global thread pool.
GlobalThreadPoolLockWaitMicroseconds,2863,16818,13955,Total time threads have spent waiting for locks in the global thread pool.
GlobalThreadPoolThreadCreationMicroseconds,129329,428031,298702,Total time spent waiting for new threads to start.
HTTPServerConnectionsCreated,10,19,9,Number of created server HTTP connections
HTTPServerConnectionsExpired,2,3,1,Number of expired server HTTP connections.
HTTPServerConnectionsPreserved,15,30,15,Number of preserved server HTTP connections. Connection kept alive successfully
HTTPServerConnectionsReset,2,3,1,Number of reset server HTTP connections. Server closes connection
HTTPServerConnectionsReused,15,30,15,Number of reused server HTTP connections
HardPageFaults,4,4,0,"The number of hard page faults in query execution threads. High values indicate either that you forgot to turn off swap on your server, or eviction of memory pages of the ClickHouse binary during very high memory pressure, or successful usage of the 'mmap' read method for the tables data."
IOBufferAllocBytes,1572900369,2978796716,1405896347,Number of bytes allocated for IO buffers (for ReadBuffer/WriteBuffer).
IOBufferAllocs,15450,28553,13103,Number of allocations of IO buffers (for ReadBuffer/WriteBuffer).
InitialQuery,18,34,16,"Same as Query, but only counts initial queries (see is_initial_query)."
InsertedBytes,3367556,5506072,2138516,Number of bytes (uncompressed; for columns as they stored in memory) INSERTed to all tables.
InsertedCompactParts,27,44,17,Number of parts inserted in Compact format.
InsertedRows,274,448,174,Number of rows INSERTed to all tables.
InterfaceHTTPReceiveBytes,16247,31537,15290,Number of bytes received through HTTP interfaces
InterfaceHTTPSendBytes,52189,89060,36871,Number of bytes sent through HTTP interfaces
JoinBuildTableRowCount,28,56,28,Total number of rows in the build table for a JOIN operation.
JoinOptimizeMicroseconds,11098,27704,16606,Total time spent executing JOIN plan optimizations.
JoinProbeTableRowCount,4141195443,8282390886,4141195443,Total number of rows in the probe table for a JOIN operation.
JoinReorderMicroseconds,36,79,43,Total time spent executing JOIN reordering algorithm.
JoinResultRowCount,16564781772,33129563544,16564781772,Total number of rows in the result of a JOIN operation.
LoadedDataParts,21,21,0,Number of data parts loaded by MergeTree tables during initialization.
LoadedDataPartsMicroseconds,1663750,1663750,0,Microseconds spent by MergeTree tables for loading data parts during initialization.
LoadedMarksCount,1126293,1284959,158666,Number of marks loaded (total across columns).
LoadedMarksFiles,80,98,18,Number of mark files loaded.
LoadedMarksMemoryBytes,4187592,4455816,268224,Size of in-memory representations of loaded marks.
LocalThreadPoolBusyMicroseconds,5257584893,13138027570,7880442677,Total time threads have spent executing the actual work.
LocalThreadPoolExpansions,729,1324,595,Counts the total number of times threads have been borrowed from the global thread pool to expand local thread pools.
LocalThreadPoolJobWaitTimeMicroseconds,19053530,44127206,25073676,"Measures the elapsed time from when a job is scheduled in the thread pool to when it is picked up for execution by a worker thread. This metric helps identify delays in job processing, indicating the responsiveness of the thread pool to new tasks."
LocalThreadPoolJobs,1047621,2094163,1046542,Counts the number of jobs that have been pushed to the local thread pools.
LocalThreadPoolLockWaitMicroseconds,1859033,24812663,22953630,Total time threads have spent waiting for locks in the local thread pools.
LocalThreadPoolShrinks,642,1207,565,Counts the total number of times threads have been returned to the global thread pool from local thread pools.
LocalThreadPoolThreadCreationMicroseconds,95966,637896,541930,Total time local thread pools have spent waiting to borrow a thread from the global pool.
LogDebug,1,1,0,Number of log messages with level Debug
LogInfo,50,50,0,Number of log messages with level Info
LogWarning,4,4,0,Number of log messages with level Warning
LoggerElapsedNanoseconds,6823443,6823443,0,Cumulative time spend in logging
MainConfigLoads,1,1,0,Number of times the main configuration was reloaded.
MarkCacheHits,6580,12763,6183,"Number of times an entry has been found in the mark cache, so we didn't have to load a mark file."
MarkCacheMisses,80,98,18,"Number of times an entry has not been found in the mark cache, so we had to load a mark file in memory, which is a costly operation, adding to query latency."
MemoryAllocatedWithoutCheck,4625694,9242026,4616332,Number of times memory has been allocated without checking for memory constraints.
MemoryAllocatedWithoutCheckBytes,1991791362522,3987950397634,1996159035112,Amount of bytes that has been allocated without checking for memory constraints.
MemoryAllocatorPurge,1,1,0,Total number of times memory allocator purge was requested
MemoryAllocatorPurgeTimeMicroseconds,1995,1995,0,Total time spent for memory allocator purge
MemoryWorkerRun,5022,7774,2752,Number of runs done by MemoryWorker in background
MemoryWorkerRunElapsedMicroseconds,32965656,61009889,28044233,Total time spent by MemoryWorker for background work
Merge,6,9,3,Number of launched background merges.
MergeExecuteMilliseconds,2890,4939,2049,Total busy time spent for execution of background merges
MergeHorizontalStageExecuteMilliseconds,2554,4381,1827,Total busy time spent for execution of horizontal stage of background merges
MergeHorizontalStageTotalMilliseconds,2809,4639,1830,Total time spent for horizontal stage of background merges
MergeMutateBackgroundExecutorTaskExecuteStepMicroseconds,3259766,5383925,2124159,Time spent in executeStep() for MergeMutate executor tasks.
MergeMutateBackgroundExecutorTaskResetMicroseconds,67192,109164,41972,Time spent resetting task for MergeMutate executor.
MergeProjectionStageExecuteMilliseconds,336,558,222,Total busy time spent for execution of projection stage of background merges
MergeProjectionStageTotalMilliseconds,341,564,223,Total time spent for projection stage of background merges
MergeSourceParts,36,54,18,Number of source parts scheduled for merges.
MergeTotalMilliseconds,3151,5204,2053,Total time spent for background merges
MergeTreeDataWriterBlocks,27,44,17,Number of blocks INSERTed to MergeTree tables. Each block forms a data part of level zero.
MergeTreeDataWriterBlocksAlreadySorted,27,44,17,Number of blocks INSERTed to MergeTree tables that appeared to be already sorted.
MergeTreeDataWriterCompressedBytes,5823273,9498382,3675109,Bytes written to filesystem for data INSERTed to MergeTree tables.
MergeTreeDataWriterRows,274,448,174,Number of rows INSERTed to MergeTree tables.
MergeTreeDataWriterSortingBlocksMicroseconds,85,175,90,Time spent sorting blocks
MergeTreeDataWriterUncompressedBytes,3367556,5506072,2138516,Uncompressed bytes (for columns as they stored in memory) INSERTed to MergeTree tables.
MergeVerticalStageTotalMilliseconds,1,1,0,Total time spent for vertical stage of background merges
MergedColumns,9228,13842,4614,Number of columns merged during the horizontal stage of merges.
MergedIntoCompactParts,6,9,3,Number of parts merged into Compact format.
MergedRows,33312,50657,17345,Rows read for background merges. This is the number of rows before merge.
MergedUncompressedBytes,34133192,52045263,17912071,Uncompressed bytes (for columns as they stored in memory) that was read for background merges. This is the number before merge.
MergerMutatorPartsInRangesForMergeCount,2103,2898,795,Amount of candidate parts for merge
MergerMutatorPrepareRangesForMergeElapsedMicroseconds,6760,10856,4096,Time spent to prepare parts ranges which can be merged according to merge predicate.
MergerMutatorRangesForMergeCount,754,968,214,Amount of candidate ranges for merge
MergerMutatorSelectPartsForMergeElapsedMicroseconds,4365,6243,1878,Time spent to select parts from ranges which can be merged.
MergerMutatorSelectRangePartsCount,36,54,18,Amount of parts in selected range for merge
MergerMutatorsGetPartsForMergeElapsedMicroseconds,171018,248052,77034,Time spent to take data parts snapshot to build ranges from them.
MergingSortedMilliseconds,4471,8980,4509,Total time spent while merging sorted columns
NetworkReceiveBytes,16247,31537,15290,"Total number of bytes received from network. Only ClickHouse-related network interaction is included, not by 3rd party libraries."
NetworkReceiveElapsedMicroseconds,475,1105,630,"Total time spent waiting for data to receive or receiving data from network. Only ClickHouse-related network interaction is included, not by 3rd party libraries."
NetworkSendBytes,52189,89060,36871,"Total number of bytes send to network. Only ClickHouse-related network interaction is included, not by 3rd party libraries."
NetworkSendElapsedMicroseconds,2467,4444,1977,"Total time spent waiting for data to send to network or sending data to network. Only ClickHouse-related network interaction is included, not by 3rd party libraries."
OSCPUVirtualTimeMicroseconds,4731579223,9631994139,4900414916,CPU time spent seen by OS. Does not include involuntary waits due to virtualization.
OSCPUWaitMicroseconds,183862241,2638848362,2454986121,"Total time a thread was ready for execution but waiting to be scheduled by OS, from the OS point of view."
OSReadBytes,1276792832,1276792832,0,"Number of bytes read from disks or block devices. Doesn't include bytes read from page cache. May include excessive data due to block size, readahead, etc."
OSReadChars,131725779293,263355202935,131629423642,"Number of bytes read from filesystem, including page cache, as well as network and other files."
OSWriteBytes,26521600,41967616,15446016,Number of bytes written to disks or block devices. Doesn't include bytes that are in page cache dirty pages. May not include data that was written by OS asynchronously.
OSWriteChars,25247725,39944318,14696593,"Number of bytes written to filesystem, including page cache, as well as network and other files."
OpenedFileCacheHits,6509,12598,6089,"Number of times a file has been found in the opened file cache, so we didn't have to open it again."
OpenedFileCacheMicroseconds,7124,21248,14124,Amount of time spent executing OpenedFileCache methods.
OpenedFileCacheMisses,968,1098,130,"Number of times a file has been found in the opened file cache, so we had to open it again."
PartsLockHoldMicroseconds,1966664,2166011,199347,Total time spent holding data parts lock in MergeTree tables
PartsLockWaitMicroseconds,9,12,3,Total time spent waiting for data parts lock in MergeTree tables
PartsLocks,568,730,162,Number of times data parts lock has been acquired for MergeTree tables
QueriesWithSubqueries,40,78,38,Count queries with all subqueries
Query,18,34,16,"Number of queries to be interpreted and potentially executed. Does not include queries that failed to parse or were rejected due to AST size limits, quota limits or limits on the number of simultaneously running queries. May include internal queries initiated by ClickHouse itself. Does not count subqueries."
QueryConditionCacheHits,47,107,60,Number of times an entry has been found in the query condition cache (and reading of marks can be skipped). Only updated for SELECT queries with SETTING use_query_condition_cache = 1.
QueryConditionCacheMisses,73,133,60,Number of times an entry has not been found in the query condition cache (and reading of mark cannot be skipped). Only updated for SELECT queries with SETTING use_query_condition_cache = 1.
QueryPlanOptimizeMicroseconds,31030,64406,33376,Total time spent executing query plan optimizations.
QueryTimeMicroseconds,668725442,1410808336,742082894,Total time of all queries.
RWLockAcquiredReadLocks,863,1140,277,Number of times a read lock was acquired (in a heavy RWLock).
RWLockReadersWaitMilliseconds,2,3,1,Total time spent waiting for a read lock to be acquired (in a heavy RWLock).
ReadBufferFromFileDescriptorRead,123329,189203,65874,Number of reads (read/pread) from a file descriptor. Does not include sockets.
ReadBufferFromFileDescriptorReadBytes,131499473740,262737474774,131238001034,"Number of bytes read from file descriptors. If the file is compressed, this will show the compressed data size."
ReadCompressedBytes,130630843124,261239932457,130609089333,"Number of bytes (the number of bytes before decompression) read from compressed sources (files, network)."
RealTimeMicroseconds,6562717665,15894701658,9331983993,Total (wall clock) time spent in processing (queries and other tasks) threads (note that this is a sum).
RecomputeWeight,18,18,0,Number of weight recomputes triggered at all FairPolicyNodes
RowsReadByMainReader,9000601842,18001187717,9000585875,Number of rows read from MergeTree tables by the main reader (after PREWHERE step).
RowsReadByPrewhereReaders,9000568530,18001137060,9000568530,Number of rows read from MergeTree tables (in total) by prewhere readers.
Seek,5022,7775,2753,Number of times the 'lseek' function was called.
SelectQueriesWithSubqueries,40,78,38,Count SELECT queries with all subqueries
SelectQuery,18,34,16,"Same as Query, but only for SELECT queries."
SelectQueryTimeMicroseconds,668725442,1410808336,742082894,Total time of SELECT queries.
SelectedBytes,429630542927,859259840719,429629297792,Number of bytes (uncompressed; for columns as they stored in memory) SELECTed from all tables.
SelectedMarks,1100835,2201670,1100835,Number of marks (index granules) selected to read from a MergeTree table.
SelectedMarksTotal,1100835,2201670,1100835,Number of total marks (index granules) before selecting which ones to read from a MergeTree table.
SelectedParts,60,120,60,Number of data parts selected to read from a MergeTree table.
SelectedPartsTotal,60,120,60,Number of total data parts before selecting which ones to read from a MergeTree table.
SelectedRanges,60,120,60,Number of (non-adjacent) ranges in all data parts selected to read from a MergeTree table.
SelectedRows,9000569116,18001138010,9000568894,Number of rows SELECTed from all tables.
ServerStartupMilliseconds,1566,1566,0,Time elapsed from starting server to listening to sockets in milliseconds
SharedPartsLockHoldMicroseconds,14990,26033,11043,Total time spent holding shared data parts lock in MergeTree tables
SharedPartsLockWaitMicroseconds,36856,36884,28,Total time spent waiting for shared data parts lock in MergeTree tables
SharedPartsLocks,10668,15797,5129,Number of times shared data parts lock has been acquired for MergeTree tables
SoftPageFaults,3519462,8940802,5421340,"The number of soft page faults in query execution threads. Soft page fault usually means a miss in the memory allocator cache, which requires a new memory mapping from the OS and subsequent allocation of a page of physical memory."
SynchronousReadWaitMicroseconds,241370184,1213404513,972034329,Time spent in waiting for synchronous reads in asynchronous local read.
SystemTimeMicroseconds,63450242,140988808,77538566,"Total time spent in processing (queries and other tasks) threads executing CPU instructions in OS kernel mode. This is time spent in syscalls, excluding waiting time during blocking syscalls."
ThreadPoolReaderPageCacheHitElapsedMicroseconds,2549862,6086300,3536438,Time spent reading data from page cache in ThreadPoolReader.
ThreadPoolReaderPageCacheMiss,1046877,2092805,1045928,Number of times the read inside ThreadPoolReader was not done from page cache and was hand off to thread pool.
ThreadPoolReaderPageCacheMissBytes,131155863575,262208181518,131052317943,Number of bytes read inside ThreadPoolReader when read was not done from page cache and was hand off to thread pool.
ThreadPoolReaderPageCacheMissElapsedMicroseconds,84280544,208219944,123939400,Time spent reading data inside the asynchronous job in ThreadPoolReader - when read was not done from the page cache.
UserTimeMicroseconds,4668224787,9491229989,4823005202,"Total time spent in processing (queries and other tasks) threads executing CPU instructions in user mode. This includes time CPU pipeline was stalled due to main memory access, cache misses, branch mispredictions, hyper-threading, etc."
WaitMarksLoadMicroseconds,557736,687934,130198,Time spent loading marks
WriteBufferFromFileDescriptorWrite,4304,6899,2595,Number of writes (write/pwrite) to a file descriptor. Does not include sockets.
WriteBufferFromFileDescriptorWriteBytes,25247557,39943974,14696417,"Number of bytes written to file descriptors. If the file is compressed, this will show compressed data size."
