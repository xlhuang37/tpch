<clickhouse>
  <!-- ===== Storage locations (all under your base dir) ===== -->
  <path>/work/users/x/i/xiaolong/runtime/data/</path>
  <tmp_path>/work/users/x/i/xiaolong/runtime/tmp/</tmp_path>
  <user_files_path>/work/users/x/i/xiaolong/runtime/user_files/</user_files_path>

  <!-- ===== Server memory cap (fraction of RAM) ===== -->
  <max_server_memory_usage>206158430208</max_server_memory_usage>

  <!-- ===== Networking (local only) ===== -->
  <listen_host>127.0.0.1</listen_host>
  <tcp_port>9000</tcp_port>     <!-- native client/benchmark -->
  <http_port>8123</http_port>   <!-- optional HTTP API -->

  <!-- ===== Logging ===== -->
  <logger>
    <level>information</level>
    <log>/work/users/x/i/xiaolong/runtime/logs/server.log</log>
    <errorlog>/work/users/x/i/xiaolong/runtime/logs/error.log</errorlog>
    <size>100M</size>
    <count>10</count>
  </logger>

    <metric_log>
        <database>system</database>
        <table>metric_log</table>

        <!-- How often to flush buffered rows into the table -->
        <flush_interval_milliseconds>10000</flush_interval_milliseconds>

        <!-- How often to collect the metric/event snapshot -->
        <collect_interval_milliseconds>1000</collect_interval_milliseconds>

        <!-- Optional: keep the table bounded (recommended in long-running clusters) -->
        <!-- <partition_by>toYYYYMM(event_date)</partition_by>
        <ttl>event_date + INTERVAL 30 DAY DELETE</ttl> -->
    </metric_log>

    <query_metric_log>
        <database>system</database>
        <table>query_metric_log</table>

        <flush_interval_milliseconds>10000</flush_interval_milliseconds>

        <!-- Server-side default collection cadence (also used by query_metric_log_interval when it is negative) -->
        <collect_interval_milliseconds>1000</collect_interval_milliseconds>

        <!-- Optional: keep bounded -->
        <!-- <partition_by>toYYYYMM(event_date)</partition_by>
        <ttl>event_date + INTERVAL 30 DAY DELETE</ttl> -->
    </query_metric_log>
  <!-- ===== Simple local auth ===== -->
  <users>
    <default>
      <password></password>
      <profile>default</profile>
      <quota>default</quota>
      <networks>
        <ip>127.0.0.1</ip>
        <ip>::1</ip>
      </networks>
    </default>
  </users>

  <profiles>
    <default/>
  </profiles>

  <quotas>
    <default/>
  </quotas>
</clickhouse>
